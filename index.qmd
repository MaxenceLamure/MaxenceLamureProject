---
title: "Prévisions Météo"
---

```{python}
import pandas as pd
import requests

# URL de l'API
url = "https://api.open-meteo.com/v1/meteofrance?latitude=43.6109&longitude=3.8763&daily=weathercode,temperature_2m_max,temperature_2m_min,precipitation_sum,precipitation_hours,precipitation_probability_max,windspeed_10m_max&timezone=Europe%2FBerlin"

# Envoi de la requête GET à l'API
response = requests.get(url)

# Vérification du statut de la requête
if response.status_code == 200:
    # Conversion des données JSON en un dictionnaire Python
    data = response.json()
    # Accéder aux données météo à partir de la réponse JSON
    jour = data["daily"]["time"]
    # date = jour[""]
    wmo = data["daily"]["weathercode"]
    temperature_max = data["daily"]["temperature_2m_max"]
    temperature_min = data["daily"]["temperature_2m_min"]
    vent = data["daily"]["windspeed_10m_max"]
    precipitations = data["daily"]["precipitation_sum"]
    precipitations_duree = data["daily"]["precipitation_hours"]
else:
    # Affichage d'un message d'erreur si la requête échoue
    print("Erreur lors de la récupération des données météorologiques.")


# Afficher les données
print(data)
print("date : ", jour)
print("wmo : ", wmo)
print("temperature max : ", temperature_max)
print("temperature min : ", temperature_min)
print("vent max : ", vent)
print("precipitations : ", precipitations)
print("temps precipitations : ", precipitations_duree)
```

```{python}
from datetime import datetime

# Liste de dates
dates = ['2023-11-01', '2023-11-02', '2023-11-03', '2023-11-04']

# Fonction pour formater les dates
def formater_date(date):
    # Convertir la chaîne de date en objet datetime
    date_obj = datetime.strptime(date, '%Y-%m-%d')
    # Formater la date en "jour/mois"
    date_formatee = date_obj.strftime('%d/%m')
    return date_formatee

# Utiliser la fonction pour formater les dates dans la liste
dates_formatees = [formater_date(date) for date in dates]

# Afficher les dates formatees
print(dates_formatees)
```

```{python}
from IPython.display import HTML

html_code = """
<head>
    <link rel="stylesheet" href="styles.css">
</head>

<table id="myTable">
    <tr class="ligne-coloree1">
        <td>Date</td>
        <td>Aujourd'hui</td>
        <td>Jour 2</td>
        <td>Jour 3</td>
        <td>Jour 4</td>
    </tr>
    <tr class="ligne-coloree2">
        <td>Images</td>
        <td>Images</td>
        <td>Images</td>
        <td>Images</td>
        <td>Images</td>
    </tr>
    <tr class="ligne-coloree1">
        <td>Température maximale</td>
        <td>Temp max</td>
        <td>Temp max</td>
        <td>Temp max</td>
        <td>Temp max</td>
    </tr>
    <tr class="ligne-coloree1">
        <td>Température minimale</td>
        <td>Temp min</td>
        <td>Temp min</td>
        <td>Temp min</td>
        <td>Temp min</td>
    </tr>
    <tr class="ligne-coloree1">
        <td>Vent</td>
        <td>Vent</td>
        <td>Vent</td>
        <td>Vent</td>
        <td>Vent</td>
    </tr>
    <tr class="ligne-coloree1">
        <td>Précipitations</td>
        <td>Pluie</td>
        <td>Pluie</td>
        <td>Pluie</td>
        <td>Pluie</td>
    </tr>
    <tr class="ligne-coloree1">
        <td>Prévisibilité</td>
        <td>Prévisibilité</td>
        <td>Prévisibilité</td>
        <td>Prévisibilité</td>
        <td>Prévisibilité</td>
    </tr>
</table>
"""

display(HTML(html_code))
```